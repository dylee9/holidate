
{% extends 'timeline/layout_final.html' %}
{% load static %}

{% block title %}
Holidate 2.0
{% endblock %}

{% block header %}

	<script>

        $(document).ready(function() {

            $('#calendar').fullCalendar({
                defaultDate: Date.today(),
                editable: false,
                googleCalendarApiKey: 'AIzaSyAolS_nHcUPBo2mQJ6PN5fc40zyqOp5d_4',
                eventLimit: true, // allow "more" link when too many events
                lang: 'ko',

                eventSources: [
                    {
                        googleCalendarId: 'eccbt2898b8fk72ab8e7ho380c@group.calendar.google.com',
                        color: 'blue'
                    },
                    {
                        googleCalendarId: 'en.south_korea#holiday@group.v.calendar.google.com',
                        color: 'green'
                    },
                    {
                        googleCalendarId: 'dylee.080606@gmail.com',
                        color: 'red'
                    },
                    {
                        googleCalendarId: '0k73giisehft28i62mk7skl1uk@group.calendar.google.com',
                        color: 'brown'
                    }
                ]
            });
            // {% if user.is_superuser %}
            //     {% for break in break_data %}
            //         var d = new Date({{break.end_date.year}},{{break.end_date.month}}-1,{{break.end_date.day}});
            //         d.addDays(1);

            //         $("#calendar").fullCalendar( 'renderEvent', {title:'{{break.name}}'+'('+'{{break.halfday_setting}}'+')', start:'{{break.start_date}}', end: d, allDay: true}, true )
            //     {% endfor %}

            //     {% for break in past_break_data %}
            //         var d = new Date({{break.end_date.year}},{{break.end_date.month}}-1,{{break.end_date.day}});
            //         d.addDays(1);

            //         $("#calendar").fullCalendar( 'renderEvent', {title:'{{break.name}}'+'('+'{{break.halfday_setting}}'+')', start:'{{break.start_date}}', end: d, allDay: true}, true )
            //     {% endfor %}

            // {% elif user.is_staff %}
            //     {% for break in break_data %}
            //         {% if break.team == self_data.team %}

            //             var d = new Date({{break.end_date.year}},{{break.end_date.month}}-1,{{break.end_date.day}});
            //             d.addDays(1);

            //             $("#calendar").fullCalendar( 'renderEvent', {title:'{{break.name}}'+'('+'{{break.halfday_setting}}'+')', start:'{{break.start_date}}', end: d, allDay: true}, true )
            //         {% endif %}
            //     {% endfor %}

            //     {% for break in past_break_data %}
            //         {% if break.team == self_data.team %}

            //             var d = new Date({{break.end_date.year}},{{break.end_date.month}}-1,{{break.end_date.day}});
            //             d.addDays(1);

            //             $("#calendar").fullCalendar( 'renderEvent', {title:'{{break.name}}'+'('+'{{break.halfday_setting}}'+')', start:'{{break.start_date}}', end: d, allDay: true}, true )
            //         {% endif %}
            //     {% endfor %}

            // {% else %}
            //     {% for break in break_data %}
            //         {% if break.username == request.user.username %}

            //             var d = new Date({{break.end_date.year}},{{break.end_date.month}}-1,{{break.end_date.day}});
            //             d.addDays(1);

            //             $("#calendar").fullCalendar( 'renderEvent', {title:'{{break.name}}'+'('+'{{break.halfday_setting}}'+')', start:'{{break.start_date}}', end: d, allDay: true}, true )
            //         {% endif %}
            //     {% endfor %}

            //     {% for break in past_break_data %}
            //         {% if break.username == request.user.username %}

            //             var d = new Date({{break.end_date.year}},{{break.end_date.month}}-1,{{break.end_date.day}});
            //             d.addDays(1);

            //             $("#calendar").fullCalendar( 'renderEvent', {title:'{{break.name}}'+'('+'{{break.halfday_setting}}'+')', start:'{{break.start_date}}', end: d, allDay: true}, true )
            //         {% endif %}
            //     {% endfor %}

            // {% endif %}

        });

    </script>

    <style>

        body {
            margin: 0px 0px;
            padding: 0;
            font-family: "Lucida Grande",Helvetica,Arial,Verdana,sans-serif;
            font-size: 14px;
        }

        #calendar {
            max-width: 900px;
            margin: 0 auto;
        }

    </style>

{% endblock %}

{% block content %}
	<header>
        <div class="header-content">
            <div class="header-content-inner">
                <h1 id="homeHeading">a Bitcoin Scheduler</h1>
                <hr>
                <p>Produced by Coinplug</p>
            </div>
        </div>
        {% for message in messages %}
            <div class="alert {{ message.tags }} alert-dismissible" role="alert">
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
                {{ message }}
            </div>
        {% endfor %}
    </header>

    <section id="timeline">

        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 text-center">
                    <h2 class="section-heading">휴가 시간표</h2>
                    <hr class="light">
                </div>
        <div id='calendar'></div>
<!-- 
        <button id="btnCreateEvents" class="btn btn-primary" onclick="makeApiCall();">
                    Create Events</button> -->

<!--         <div id="divifm" align="center">
            <iframe src="https://calendar.google.com/calendar/embed?title=Coinplug&amp;height=800&amp;wkst=1&amp;bgcolor=%23ffffff&amp;src=dylee.080606%40gmail.com&amp;color=%231B887A&amp;src=en.south_korea%23holiday%40group.v.calendar.google.com&amp;color=%23125A12&amp;ctz=Asia%2FSeoul" style="border:solid 1px #777" width="1000" height="800" frameborder="0" scrolling="no"></iframe>
        </div> -->
   <!--      <div id="divifm" align="center">
            <iframe width='900' height='500' frameborder='1' src="https://docs.google.com/spreadsheets/d/1S3ekUMQPisisesKNaVaPkQRwmzVCVkQSgptpnPOIYdw/edit?usp=sharing"></iframe>
        </div> -->

    </section>
{% endblock %}

{% block footer %}
    <script src="{% static 'calendar_page/fullcalendar/locale/ko.js' %}"></script>
{% endblock %}